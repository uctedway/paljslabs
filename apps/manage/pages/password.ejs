<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=1440, initial-scale=1.0">
  <title><%= title || '48LAB Manage' %></title>
  <link rel="stylesheet" href="/css/manage.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
</head>
<body>
  <div class="manage-shell">
    <%- include('./partials/sidebar', { activeSub }) %>
    <main class="manage-main">
      <article class="manage-panel">
        <h2 class="manage-title">비밀번호 변경</h2>
        <p class="manage-desc">
          현재 로그인: <strong><%= String(manageAdmin?.admin_name || manageAdmin?.admin_id || '관리자') %></strong>
          (<%= String(manageAdmin?.admin_id || '-') %>)
        </p>

        <% if (errorMessage) { %>
          <p class="manage-alert error"><%= errorMessage %></p>
        <% } %>
        <% if (noticeMessage) { %>
          <p class="manage-alert notice"><%= noticeMessage %></p>
        <% } %>

        <form method="post" action="/manage/password" class="manage-form">
          <div>
            <label class="manage-label" for="current_password">현재 비밀번호</label>
            <input id="current_password" name="current_password" type="password" class="manage-input" required>
          </div>
          <div>
            <label class="manage-label" for="new_password">새 비밀번호</label>
            <input id="new_password" name="new_password" type="password" class="manage-input" minlength="8" required>
          </div>
          <div>
            <label class="manage-label" for="confirm_password">새 비밀번호 확인</label>
            <input id="confirm_password" name="confirm_password" type="password" class="manage-input" minlength="8" required>
          </div>
          <button type="submit" class="manage-submit">
            <span class="material-symbols-outlined" style="font-size:18px;">lock_reset</span>
            비밀번호 저장
          </button>
        </form>
      </article>
    </main>
  </div>
</body>
</html>
