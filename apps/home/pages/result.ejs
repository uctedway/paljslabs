<div class="result-container">
	<div class="result-header">
		<h1><%= name %>님의 사주 상담 결과</h1>
		<p class="birth-info"><%= birthInfo %></p>
		<% if (typeof resultId !== 'undefined' && resultId) { %>
			<p class="birth-info">결과 ID: <%= resultId %></p>
		<% } %>
	</div>
	
	<div id="result-content" class="result-content"></div>
	
	<div class="result-actions">
		<a href="/saju" class="btn-home">다시 보기</a>
	</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dompurify@3.2.6/dist/purify.min.js"></script>
<script>
	const markdown = <%- JSON.stringify(claudeResult) %>;
	// LLM 결과 마크다운을 HTML로 변환한 뒤 sanitize하여 XSS를 차단합니다.
	const unsafeHtml = marked.parse(markdown);
	const safeHtml = DOMPurify.sanitize(unsafeHtml);
	document.getElementById('result-content').innerHTML = safeHtml;
</script>
